{% extends "base.html" %}

{% block title %}Search - My Project{% endblock %}

{% block content %}
  <h1>Search</h1>
  <form method="get">
    <input type="text" name="query" placeholder="Enter search term..." required value="{{ query or '' }}">
    <button type="submit">Search</button>
  </form>

  {% if results is not none %}
    <h2>Results:</h2>
    {% if results %}
      <ul>
        {% for r in results %}
          <li style="margin-bottom: 1em;">
            <strong>Title:</strong> {{ r.title }}<br>
            <strong>Author:</strong> {{ r.author }}<br>
            <strong>Published:</strong> {{ r.published }}<br>
            {% if r.edited %}<strong>Edited:</strong> {{ r.edited }}<br>{% endif %}
            <strong>Content:</strong><br>
            <pre style="background:#1e1e1e; color:#eee; padding:1em; white-space:pre-wrap;">{{ r.content }}</pre>
            
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No results found for "{{ query }}"</p>
    {% endif %}
  {% endif %}
{% endblock %}
